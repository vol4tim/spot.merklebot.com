(window.webpackJsonp=window.webpackJsonp||[]).push([[60,19,40],{1732:function(t,e,n){"use strict";n.r(e);var r=n(1733),o=n.n(r);for(var l in r)["default"].indexOf(l)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(l);e.default=o.a},1733:function(t,e){},1796:function(t,e,n){"use strict";n.r(e);var r=n(14),o=(n(64),n(76),n(44),n(21),n(43),n(1184)),l=n(1903),c=n(1764),f=n(1748),d=n(1765),v=n.n(d),m=(n(1766),n(94)),h=Object(m.b)({components:{VueSlider:v.a},props:["rosUrl","urdfUrl"],setup:function(t){console.log(t);var e=Object(m.f)(null),n=t.urdfUrl,d=Object(m.f)("wait"),v=Object(m.f)(null),h=Object(m.f)(0),x=Object(m.f)(0),w=Object(m.f)(!1),y=Object(m.f)(null),C=[],_=Object(m.f)(null),j=Object(m.f)(null),O=Object(m.f)(null),M=new l.a,P=new o.Scene,z=new o.PlaneGeometry(8,8),E=new o.MeshBasicMaterial({color:"#BBBBBB",side:o.DoubleSide}),F=new o.Mesh(z,E),I=new o.PerspectiveCamera(80,4/3,.1,1e3),k=new o.WebGLRenderer({antialias:!0}),B=new o.DirectionalLight("hsl(0, 100%, 100%)"),R=new o.AxesHelper(5),T=null;I.position.z=-2.3,I.position.y=1.6,I.position.x=-3.8,I.rotation.y=-Math.PI/2-.4,F.rotation.x=Math.PI/2,F.position.y=0,P.add(I),P.add(B),P.add(R),P.add(F),M.load(n,(function(t){var e=new f.a;e.workingPath=o.LoaderUtils.extractUrlBase(n),(T=e.parse(t)).rotation.x=-Math.PI/2,P.add(T),d.value="urdf loaded"})),k.setSize(800,500),B.position.set(5,5,0),P.background=new o.Color("hsl(0, 100%, 100%)");var animate=function animate(){if(setTimeout((function(){requestAnimationFrame(animate)}),1e3/30),k.render(P,I),j.value){var t=j.value;_.value||(_.value={y:t.translation.z,x:t.translation.x,z:-t.translation.y}),T.position.y=t.translation.z-_.value.y+.1,T.position.x=t.translation.x-_.value.x,T.position.z=-t.translation.y-_.value.z;var e=new o.Euler;if(e.setFromQuaternion(new o.Quaternion(t.rotation.x,t.rotation.y,t.rotation.z,t.rotation.w)),T.rotation.x=-e.y-Math.PI/2,T.rotation.y=e.x,T.rotation.z=e.z,null!==O.value)for(var n=O.value,r=0;r<n.position.length;r++)T.joints[n.name[r]].setJointValue(n.position[r])}},J=function(){console.log(w.value);var t=C[h.value];O.value=t.robotJoints,j.value=t.bodyTf,!0===w.value&&h.value<x.value&&(h.value+=1)},S=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y.value&&(clearInterval(y),x.value=0,h.value=0),t.next=3,Object(c.open)(e.value);case 3:return n=t.sent,r=[],o={},t.next=8,n.readMessages({topics:["/tf","/joint_states"]},(function(t){r.push(t),"/joint_states"===t.topic?o.robotJoints||(o.robotJoints=t.message):"/tf"===t.topic&&4===t.message.transforms.length&&t.message.transforms.forEach((function(t){"body"===t.child_frame_id&&(o.bodyTf||(o.bodyTf=t.transform))})),o.bodyTf&&o.robotJoints&&(C.push(Object.assign({},o)),o={})}));case 8:x.value=C.length,console.log("Frames number",x.value),y.value=setInterval((function(){J()}),40);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(m.d)((function(){v.value.appendChild(k.domElement),animate()})),{scene:P,camera:I,renderer:k,light:B,axes:R,stage:v,status:d,onFileChanged:function(t){var n=t.target;n&&n.files&&(e.value=n.files[0],S(),console.log(e.value))},frameNum:h,frameMax:x,sliderChooseFrame:function(t){h.value=t},isPlaying:w,FRAME_WIDTH:800,FRAME_HEIGHT:500}}}),x=h,w=n(25),component=Object(w.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("input",{attrs:{type:"file"},on:{change:function(e){return t.onFileChanged(e)}}})]),t._v(" "),n("div",[t._v("status: "+t._s(t.status))]),t._v(" "),n("div",{class:{width:t.FRAME_WIDTH}},[n("div",{ref:"stage",staticClass:"stage"}),t._v(" "),t.frameMax>0?n("div",{staticClass:"mt-10 mb-10"},[n("vue-slider",{attrs:{max:t.frameMax,"drag-on-click":!0},on:{change:t.sliderChooseFrame},model:{value:t.frameNum,callback:function(e){t.frameNum=e},expression:"frameNum"}}),t._v(" "),n("div",{staticClass:"mt-4"},[n("button",{staticClass:"rounded bg-blue-500 focus:outline-none m-2 p-2",on:{click:function(){t.isPlaying=!t.isPlaying}}},[n("i",{staticClass:"fa fa-play fa-2x text-white"},[t._v("\n            "+t._s(t.isPlaying?"Stop":"Play")+"\n          ")])])])],1):t._e()])])}),[],!1,null,null,null);e.default=component.exports},1891:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r=function(){var t=this.$createElement,e=this._self._c||t;return e("main",{staticClass:"bg-gray-800 overflow-hidden relative"},[e("div",{staticClass:"flex items-start justify-between"},[e("div",{staticClass:"flex flex-col w-full md:space-y-4"},[e("div",{staticClass:"overflow-auto pb-24 px-4 md:px-6"},[e("div",[e("div",{staticClass:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4 my-4"},[e("CardContainer",{attrs:{title:"Digital twin"}},[e("RosbagPlayer",{attrs:{"urdf-url":"/urdf/spot.urdf.xacro","ros-url":"ws://localhost:8000/robots/1/realtime_ws"}})],1)],1)])])])])])},o=[]},1892:function(t,e,n){"use strict";n.r(e);var r=n(1891),o=n(1732);for(var l in o)["default"].indexOf(l)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(l);var c=n(25),component=Object(c.a)(o.default,r.a,r.b,!1,null,null,null);e.default=component.exports,installComponents(component,{RosbagPlayer:n(1796).default,CardContainer:n(972).default})},972:function(t,e,n){"use strict";n.r(e);var r={name:"CardContainer",props:{title:{type:String,required:!1}}},o=n(25),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-full"},[n("div",{staticClass:"shadow-lg px-4 py-2 w-full bg-gray-600 relative"},[n("p",{staticClass:"text-lh w-max text-white font-semibold border-b border-gray-200"},[t._v("\n      "+t._s(t.title)+"\n    ")]),t._v(" "),t._t("default")],2)])}),[],!1,null,"7302cd96",null);e.default=component.exports}}]);